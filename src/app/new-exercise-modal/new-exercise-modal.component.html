<div class="top_panel">
  <p mat-dialog-title>Создание упражнения</p>
  <input type="image" src="../../assets/close.png" width="5%" height="5%" (click)="onClose()">
</div>
<hr>
<form [formGroup]="myForm" mat-dialog-content>
  <p>Введите название:</p>
  <input [(ngModel)]="exercise.name" formControlName="name" class="input_field" type="text">
  <div class="danger"
       *ngIf="myForm.controls['name'].invalid && myForm.controls['name'].touched">
    Пустое название недопустимо
  </div>
  <p>Введите уровень сложности:</p>
  <mat-form-field appearance="fill">
    <mat-label>Уровень сложности</mat-label>
    <mat-select [(ngModel)]="exercise.levelNumber" formControlName="levelNumber" (valueChange)="displayAll()">
      <mat-option *ngFor="let level of this.levels" [value]="level.key">
        {{level.value}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <p>Введите длину упражнения:</p>
  <input [(ngModel)]="exercise.length" formControlName="length" *ngIf="display_all; else display_none"
         [ngStyle]="display_all?{'background-color':'#c5eec4'}:{'background-color': 'grey' }"
         class="input_field" type="text">
  <div class="danger"
       *ngIf="myForm.controls['length'].invalid && myForm.controls['length'].touched">
    Надо задать длину
  </div>
  <p>Выберите зоны клавиатуры:</p>
  <mat-form-field *ngIf="display_all; else display_none" appearance="fill">
    <mat-label>Зоны клавиатуры</mat-label>
    <mat-select [(ngModel)]="exercise.keyZone" formControlName="keyZone" multiple>
      <mat-option *ngFor="let zone of zoneList" [value]="zone.key">{{zone.value}}</mat-option>
    </mat-select>
  </mat-form-field>
  <ng-template #display_none>
    <input class="not_input_field" type="text" disabled="disabled">
  </ng-template>
  <div class="danger"
       *ngIf="myForm.controls['keyZone'].invalid && myForm.controls['keyZone'].touched">
    Надо выбрать хотя бы 1 зону
  </div>
  <p>Введите максимальное время нажатия клавиши:</p>
  <input [(ngModel)]="exercise.maxTimeKick" formControlName="maxTimeKick" *ngIf="display_all; else display_none"
         [ngStyle]="display_all?{'background-color':'#c5eec4'}:{'background-color': 'grey' }"
         class="input_field" type="number" max="4" min="0">
  <div class="danger"
       *ngIf="myForm.controls['maxTimeKick'].invalid && myForm.controls['maxTimeKick'].touched">
    Необходимо задать время нажатия
  </div>
  <p>Выберите тип создания упражнения:</p>
  <mat-form-field *ngIf="display_all; else display_none" appearance="fill">
    <mat-label>Тип создания</mat-label>
    <mat-select [(ngModel)]="exercise.creatingWay" formControlName="creatingWay" [disabled]="!display_all"
                [ngStyle]="display_all?{'background-color':'#c5eec4'}:{'background-color': 'grey'}">
      <mat-option *ngFor="let type of types" [value]="type">
        {{type}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <div class="danger"
       *ngIf="myForm.controls['creatingWay'].invalid && myForm.controls['creatingWay'].touched">
    Выберите тип создания
  </div>
  <div *ngIf="checkNotAutoInput()">
    <p>Введите свою последовательность:</p>
    <textarea [(ngModel)]="exercise.masOfSymbols" formControlName="masOfSymbols" style="padding-bottom:70px ;
    font-size:16px;
    height: 70px;
    width: 444px">
    </textarea>
    <div class="danger"
         *ngIf="myForm.controls['masOfSymbols'].invalid && myForm.controls['masOfSymbols'].touched">
      Не забудьте написать свою последовательность
    </div>
  </div>
  <div class="btn_add">
    <input class="but" type="image" src="../../assets/plus.png" width="15%" height="15%" (click)="onSave()">
  </div>
</form>
